我々はリモートアクセスしたいと切に願ってきた。<br>
しかし、多くの場合はネットワーク環境に障害がある。<br>
# ネットワーク環境の確認 
リモートアクセスするなら、ポート開放すれば良いんじゃないって言われてもそう簡単な話じゃないのですよ。<br>
普段利用している自分の家のネットワークがどのようになっているか確認したことはあるだろうか。とりあえずtracerouteを使ってgoogleのdnsサーバへの経路を確認してみると良い。
```
#Windows
> tracert 8.8.8.8
#Linux
$ traceroute 8.8.8.8
```
するとどうだろうか。おそらく、一番始めに出るものはルータのアドレスのはずなので[プライベートアドレス](https://www.atmarkit.co.jp/aig/06network/privateip.html)なのは分かる。しかし、二つ目以降にプライベートアドレスが出ている環境の方もいるのではないか。<br>
そのような環境にいると、ポート開放やポートフォワーディングを利用したリモートアクセスは虚無である。<br>
二つ目以降にプライベートアドレスが無いからといって安心はできない。ルータにてWAN側ネットワークのアドレスを確認してみるとプライベートであったりするのでそちらも確認すべし。家の回線がIPoEの環境である場合は、IPv6でのリモートアクセスは可能かもしれないが出先がIPv6のルーティングに対応している可能性が今はまだとても低い。<br><br>

以上からリモートアクセスは無理なのだろうと、諦めていた。

# [Tailscale](https://tailscale.com/)
では、救世主をご紹介しましょう。<br>
一言で言うと、プライベートアドレスでもトンネルでぶち抜いて繋げてくれるアプリケーションである。<br>
技術的にはWireGuardのカスタマイズとドキュメントにあったような。
とにかく、使い方も簡単で[OSごとのアプリケーションをインストール](https://tailscale.com/download/)して、ログインが必要と言われて出てきたURLをブラウザに入力して適当なGoogleアカウントでログインするだけ。<br>
これだけで、自分のVPNにマシンを追加できるのでリモートアクセスする側される側を追加しておけばリモートアクセスができてしまう。<br>
もうプライベートアドレスだからといってリモートアクセスに困る日々とはおさらばだぜ!<br>
ついでに、tailscale公式ドキュメントには

> minecraft等のゲームサーバーの共有にも使ってください

とあるのでプライベートゲームサーバーの共有という使い方もある。他のtailscaleユーザとの共有は自分のVPNごとではなく、VPNに参加しているマシン単位でできる。これは、tailscaleのadmin consoleからmachinesにリストされている共有したいマシンを選んで、ラベルを指定して発行したURLに相手がアクセスするだけ。URLを共有するだけでマシンの共有ができてしまう。(恐ろしいけどスゴイ便利)<br>

Chrome remote desktopが何故グローバルアドレスが無くても利用できるのか謎だったがもしかすると似たようなことをやっているのかもしれない。

# Additional
まあでも、NASとかならさておき例えば「家に好きなときに出先から使いたいデスクトップPCがあるけどずっと電源つけておくのも嫌だな」と思ったそこのあなた。現在、自分が利用している環境を紹介しているのでご査収ください。<br>
[tailscaleでグローバルアドレス無し環境でのリモートアクセスの実現 - 4ensiX](https://zarat.hatenablog.com/entry/2021/05/11/173532)



